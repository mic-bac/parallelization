---
title: "R and Python with Quarto incl. variable sharing"
format: html
jupyter: python3
---

## Python

```{python}
import numpy as np
x = np.random.randn(5)
x
```

## R

x <- rnorm(100)
mean(x)

# Share Variables
## Python --> R
```{python}
import numpy as np
x = np.random.randn(5)
x

import rpy2.robjects as robjects
from rpy2.robjects import numpy2ri
numpy2ri.activate()
```

# Push 'x' to R
robjects.globalenv['x'] = x

# Run R code
robjects.r('summary(x)')

## R --> Python

```{r}
library(reticulate)
use_condaenv("quarto-env", required = TRUE)

x <- rnorm(5)
py$x <- x  # send to Python

# Use 'x' from R
print(x)
sum(x)